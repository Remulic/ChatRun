(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-userhome-userhome"],{"3c30":function(t,i,a){"use strict";(function(t){a("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("e9c4");var e={data:function(){return{addHight:0,myname:"我",sexNan:!1,sexNv:!1,sex:!1,markname:"",runname:"运动萌新",showSend:!1,id:"",uid:"",token:"",user:{},msg:"",relation:""}},onReady:function(){this.getEleStyle()},onLoad:function(t){this.id=t.id,this.getStorages(),this.getUser(),this.judgeFriend(),this.getRunData()},methods:{getStorages:function(){try{var t=uni.getStorageSync("user");t?(this.uid=t.id,this.token=t.token,this.myname=t.name,this.imgurl=t.imgurl,this.msg=this.myname+"请求加为好友~"):uni.navigateTo({url:"../signin/signin"})}catch(i){}},getUser:function(){var t=this;uni.request({url:this.serverUrl+"/user/detial",data:{id:this.id,token:this.token},method:"POST",success:function(i){var a=i.data.status,e=i.data.result;200===a?(e.imgurl=t.serverUrl+e.imgurl,void 0===e.explain&&(e.explain="这个人很懒，啥都没写~"),0===t.markname.length&&(t.markname=e.name),t.sexJudge(e.sex),t.user=e):500===a?uni.showToast({title:"服务器出错了...",icon:"none",duration:1500}):300===a&&uni.navigateTo({url:"/pages/signin/signin?name="+t.myname})}})},getRunData:function(){var t=this;uni.request({url:this.serverUrl+"/run/findrundate",data:{id:this.id,token:this.token},method:"POST",success:function(i){var a=i.data.status,e=i.data.result;200===a?(e.distance>=10||e.runTime>=60)&&(t.runname="运动健将"):500===a?uni.showToast({title:"服务器出错了...",icon:"none",duration:1500}):300===a&&uni.navigateTo({url:"/pages/signin/signin?name="+t.myname})}})},sexJudge:function(t){"asexual"===t?(this.sex=!0,this.sexNan=!1,this.sexNv=!1):"male"===t?(this.sex=!1,this.sexNan=!0,this.sexNv=!1):(this.sex=!1,this.sexNan=!1,this.sexNv=!0)},judgeFriend:function(){var t=this;this.id===this.uid?this.relation=0:uni.request({url:this.serverUrl+"/search/isfriend",data:{uid:this.uid,fid:this.id},method:"POST",success:function(i){var a=i.data.status;200==a?(t.relation=1,t.getMarkname()):400==a?t.relation=2:500==a&&uni.showToast({title:"服务器出错了...",icon:"none",duration:1500})}})},addFriendSub:function(t){var i=this;uni.request({url:this.serverUrl+"/friend/apply",data:{uid:this.uid,fid:this.id,msg:this.msg,token:this.token},method:"POST",success:function(t){var a=t.data.status;t.data.result;200===a?(i.showSend=!1,uni.showToast({title:"好友请求发送成功",icon:"none",duration:1500})):300===a?uni.navigateTo({url:"/pages/signin/signin?name="+i.myname}):500===a&&uni.showToast({title:"服务器出错了...",icon:"none",duration:1500})}})},getMarkname:function(){var t=this;uni.request({url:this.serverUrl+"/user/getmarkname",data:{uid:this.uid,fid:this.id,token:this.token},method:"POST",success:function(i){var a=i.data.status;if(200==a){var e=i.data.result;void 0!==e.markname&&(t.markname=e.markname)}else 400==a||500==a&&uni.showToast({title:"服务器出错了...",icon:"none",duration:1500})}})},userDetial:function(){uni.navigateTo({url:"/pages/userdetials/userdetials?id="+this.id})},backOnePage:function(){uni.navigateBack({delta:1})},getEleStyle:function(){var i=this,a=uni.createSelectorQuery().in(this);a.select(".bg").boundingClientRect((function(a){t("log",JSON.stringify(a)," at pages/userhome/userhome.vue:322"),t("log",a.top," at pages/userhome/userhome.vue:323"),i.addHight=a.height-186,t("log",i.addHight," at pages/userhome/userhome.vue:325")}))}}};i.default=e}).call(this,a("0de9")["log"])},"4d8f":function(t,i,a){var e=a("7729");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("e69c777a",e,!0,{sourceMap:!1,shadowMode:!1})},7729:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 公共样式 */.contents[data-v-6b732d3c]{padding-top:0}\r\n/* 顶部 */.top-bar[data-v-6b732d3c]{z-index:100;width:92%;height:%?88?%;position:fixed;top:0;left:0;background:hsla(0,0%,100%,.96);border-bottom:%?1?% solid rgba(39,20,50,.1);padding-left:%?32?%;padding-right:%?32?%;padding-top:0;box-shadow:%?1?% %?1?% %?20?% %?2?% rgba(117,112,117,.2)}.top-bar .top-bar-left[data-v-6b732d3c]{float:left}.top-bar .top-bar-left uni-image[data-v-6b732d3c]{width:%?68?%;height:%?68?%;margin-top:%?10?%;border-radius:%?16?%}.top-bar .top-bar-center[data-v-6b732d3c]{float:left}.top-bar .top-bar-center .logo[data-v-6b732d3c]{display:inline-block;padding-top:%?18?%;font-size:%?24?%;color:#ffe431}.top-bar .top-bar-center .title[data-v-6b732d3c]{line-height:%?88?%}.top-bar .top-bar-right[data-v-6b732d3c]{float:right;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3);border-radius:%?40?%}.top-bar .top-bar-right .search[data-v-6b732d3c]{display:inline-block;width:%?70?%;height:%?78?%;padding-left:%?12?%}.top-bar .top-bar-right .add[data-v-6b732d3c]{width:%?78?%;height:%?78?%;display:inline-block}.top-bar .top-bar-right i[data-v-6b732d3c]{width:%?52?%;height:%?52?%;display:inline-block;font-size:%?19?%;padding:%?24?% %?5?% %?5?% %?15?%}\r\n/* 底部 */.bottom[data-v-6b732d3c]{position:fixed;bottom:%?20?%;width:100%;height:%?104?%;box-sizing:border-box;padding:%?12?% %?32?%;padding-bottom:env(safe-area-inset-bottom)}.bottom .bottom-btn[data-v-6b732d3c]{height:%?80?%;margin:0 auto;background:#ffe431;border-radius:%?20?%;text-align:center;line-height:%?80?%;font-size:%?32?%;color:#272832}.btn1[data-v-6b732d3c]{height:%?80?%;border-radius:%?20?%;text-align:center;line-height:%?80?%;font-size:%?32?%;color:#272832}\r\n/* 顶部 */.top-bar[data-v-6b732d3c]{background:hsla(0,0%,100%,0);box-shadow:none;border:none}.top-bar .top-bar-left[data-v-6b732d3c]{z-index:10000;width:%?88?%;height:100%;float:left}.top-bar .top-bar-left i[data-v-6b732d3c]{display:inline-block;margin-top:%?25?%}.top-bar .top-bar-right[data-v-6b732d3c]{float:right;padding-right:%?8?%;box-shadow:none}.top-bar .top-bar-right .more i[data-v-6b732d3c]{font-size:%?56?%;color:#272832;line-height:%?40?%}\r\n/* 背景层 */.bg[data-v-6b732d3c]{z-index:-2;position:fixed;top:0;left:0;width:100%;height:100%}.bg .bg-bai[data-v-6b732d3c]{width:100%;height:100%}.bg .bg-img[data-v-6b732d3c]{z-index:-1;width:110%;height:110%;top:%?-10?%;left:%?-10?%;-webkit-filter:blur(%?16?%);filter:blur(%?16?%);opacity:.6}.bg .bind-bg-img[data-v-6b732d3c]{z-index:100;opacity:0;transition:.4s}.bind-bg[data-v-6b732d3c]{transition:.5s;background-color:rgba(255,228,49,.8)}\r\n/* main */.main[data-v-6b732d3c]{text-align:center}.main .user-header[data-v-6b732d3c]{position:relative;padding-top:%?108?%;margin:0 auto;width:%?410?%;height:%?404?%}.main .user-header .sex[data-v-6b732d3c]{z-index:1001;position:absolute;bottom:%?12?%;right:%?12?%}.main .user-header .sex i[data-v-6b732d3c]{font-size:%?28?%;font-weight:600;color:#fff;border-radius:50%;padding:%?12?%}.main .user-header .sex .man-color[data-v-6b732d3c]{background-color:#5799ff}.main .user-header .sex .woman-color[data-v-6b732d3c]{background-color:#ff5d5b}.main .user-header .sex .icon-xingbie3[data-v-6b732d3c]{background-color:#000}.main .user-header .user-img[data-v-6b732d3c]{z-index:10;width:%?400?%;height:%?400?%;border-radius:%?48?%;border:%?6?% solid #fff;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3)}.main .user-header .bind-user-img[data-v-6b732d3c]{z-index:10;margin-left:%?-300?%;margin-top:%?80?%;width:%?250?%;height:%?250?%;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3);border-radius:50%;transition:.4s}.main .user-info[data-v-6b732d3c]{width:90%;margin:%?50?% auto;padding:%?62?% 0;border-radius:%?10?%;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3)}.main .user-info .rname[data-v-6b732d3c]{font-size:%?52?%;color:#272832;line-height:%?74?%}.main .user-info .name[data-v-6b732d3c]{font-size:%?52?%;color:#272832;line-height:%?74?%}.main .user-info .nick[data-v-6b732d3c]{font-size:%?28?%;line-height:%?40?%;color:#272832}.main .user-info .intr[data-v-6b732d3c]{font-size:%?28?%;font-weight:300;line-height:%?48?%;color:#272832;padding-top:%?20?% %?100?%}\r\n/*  */.add-msg[data-v-6b732d3c]{position:fixed;top:%?340?%;padding:%?40?% %?0?%;width:100%;height:%?1252?%;background:#fff;border-radius:%?40?% %?40?% 0 0}.add-msg .name[data-v-6b732d3c]{font-size:%?52?%;color:#272832;line-height:%?74?%;padding-top:%?68?%;padding-bottom:%?20?%;text-align:center}.add-msg .add-main[data-v-6b732d3c]{height:%?420?%;padding:%?18?% %?22?%;border-radius:%?20?%;background:#f3f4f6;font-size:%?32?%;color:#272832;line-height:%?44?%;margin:0 auto;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3)}\r\n/* 底部按钮2 */.add-btn[data-v-6b732d3c]{z-index:100;position:fixed;bottom:%?20?%;width:100%;height:%?104?%;box-sizing:border-box;padding:%?12?% %?32?%;display:flex}.add-btn .close[data-v-6b732d3c]{width:%?172?%;height:%?80?%;background:#f3f4f6;border-radius:%?20?%;text-align:center;line-height:%?80?%;font-size:%?32?%;color:#272832;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3)}.add-btn .send[data-v-6b732d3c]{margin-left:%?32?%;flex:auto;height:%?80?%;background:#ffe431;border-radius:%?20?%;text-align:center;line-height:%?80?%;font-size:%?32?%;color:#272832;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3)}',""]),t.exports=i},"78b6":function(t,i,a){"use strict";a.r(i);var e=a("d3aa"),n=a("f141");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(s);a("e5c4");var o=a("f0c5"),r=Object(o["a"])(n["default"],e["b"],e["c"],!1,null,"6b732d3c",null,!1,e["a"],void 0);i["default"]=r.exports},d3aa:function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:"top-bar"},[a("v-uni-view",{staticClass:"top-bar-left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.backOnePage.apply(void 0,arguments)}}},[a("i",{staticClass:"iconfont icon-xiazai6"})]),a("v-uni-view",{staticClass:"top-bar-center"},[a("v-uni-view",{staticClass:"title"},[t._v("资料卡")])],1),a("v-uni-view",{staticClass:"top-bar-right"},[0===t.relation||1===t.relation?a("v-uni-view",{staticClass:"more",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.userDetial()}}},[a("i",{staticClass:"iconfont icon-gengduo"})]):t._e()],1)],1),a("v-uni-view",{staticClass:"bg",class:{"bind-bg":t.showSend}},[a("v-uni-image",{staticClass:"bg-img",class:{"bind-bg-img":t.showSend},attrs:{src:t.user.imgurl,mode:"aspectFill"}}),a("v-uni-view",{staticClass:"bg-bai"})],1),a("v-uni-view",{staticClass:"main animate__animated animate__faster",class:{animate__slideInDown:!t.showSend}},[a("v-uni-view",{staticClass:"user-header"},[a("v-uni-view",{staticClass:"sex"},[a("i",{directives:[{name:"show",rawName:"v-show",value:!t.showSend,expression:"!showSend"}],staticClass:"iconfont ",class:{"icon-xingbie3":t.sex,"icon-xingbie-nan":t.sexNan,"man-color":t.sexNan," icon-xingbienv":t.sexNv,"woman-color":t.sexNv}})]),a("v-uni-image",{staticClass:"user-img animate__animated",class:{"bind-user-img":t.showSend},attrs:{src:t.user.imgurl,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"user-info"},[a("v-uni-view",{staticClass:"rname"},[t._v(t._s(t.runname))]),a("v-uni-view",{staticClass:"name"},[t._v(t._s(t.markname))]),a("v-uni-view",{staticClass:"nick"},[t._v("昵称："+t._s(t.user.name))]),a("v-uni-view",{staticClass:"intr"},[t._v(t._s(t.user.explain))])],1)],1),a("v-uni-view",{staticClass:"bottom animate__animated animate__faster",class:{animate__slideInUp:!t.showSend}},[2===t.relation?a("v-uni-view",{staticClass:"bottom-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showSend=!0}}},[t._v("加为好友")]):t._e(),1===t.relation||0===t.relation&&this.id!==this.uid?a("v-uni-view",{staticClass:"bottom-btn"},[t._v("发宋消息")]):t._e()],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showSend,expression:"showSend"}]},[a("v-uni-view",{staticClass:"add-msg animate__animated animate__slideInUp animate__faster"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(t.user.name))]),a("v-uni-textarea",{staticClass:"add-main",attrs:{maxlength:"120",placeholder:""},model:{value:t.msg,callback:function(i){t.msg=i},expression:"msg"}})],1),a("v-uni-view",{staticClass:"add-btn animate__animated animate__slideInUp animate__faster"},[a("v-uni-view",{staticClass:"close",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showSend=!1}}},[t._v("取消")]),a("v-uni-view",{staticClass:"send",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addFriendSub.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],1)},n=[]},e5c4:function(t,i,a){"use strict";var e=a("4d8f"),n=a.n(e);n.a},f141:function(t,i,a){"use strict";a.r(i);var e=a("3c30"),n=a.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=n.a}}]);