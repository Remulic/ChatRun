(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-friendapply-friendapply"],{"1cf7":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={dataTime:function(e){var t=new Date(e),a=new Date,i=t.getHours(),n=t.getMinutes(),r=t.getFullYear(),o=t.getMonth()+1,s=t.getDate(),u=(a.getTime(),a.getHours(),a.getMinutes(),a.getFullYear()),d=a.getMonth()+1,m=a.getDate();return s===m&&o===d&&r===u?(i<10&&(i="0"+i),n<10&&(n="0"+n),i+":"+n):s+1===m&&o===d&&r===u?(i<10&&(i="0"+i),n<10&&(n="0"+n),"昨天 "+i+":"+n):r+"/"+o+"/"+s},detialTime:function(e){var t=new Date(e),a=(new Date,t.getHours()),i=t.getMinutes(),n=t.getFullYear(),r=t.getMonth()+1,o=t.getDate();return r<10&&(r="0"+r),o<10&&(o="0"+o),a<10&&(a="0"+a),i<10&&(i="0"+i),n+"-"+r+"-"+o+" "+a+":"+i},dataTime1:function(e){var t=new Date(e),a=new Date,i=t.getHours(),n=t.getMinutes(),r=t.getFullYear(),o=t.getMonth()+1,s=t.getDate(),u=(a.getTime(),a.getHours(),a.getMinutes(),a.getFullYear()),d=a.getMonth()+1,m=a.getDate();return s===m&&o===d&&r===u?(i<10&&(i="0"+i),n<10&&(n="0"+n),i+":"+n):s+1===m&&o===d&&r===u?(i<10&&(i="0"+i),n<10&&(n="0"+n),"昨天 "+i+":"+n):r===u?(i<10&&(i="0"+i),n<10&&(n="0"+n),o+"月"+s+"日 "+i+":"+n):(i<10&&(i="0"+i),n<10&&(n="0"+n),r+"年"+o+"月"+s+"日 "+i+":"+n)},fileName:function(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();return i<10&&(i="0"+i),n<10&&(n="0"+n),a+i+n},spacTime:function(e,t){e=new Date(e),t=new Date(t);var a=e.getTime(),i=t.getTime();return i>a+3e5?t:""},debounce:function(e,t){var a,i=t||500;return function(){var t=this,n=arguments;a&&clearTimeout(a),a=setTimeout((function(){a=null,e.apply(t,n)}),i)}},Throttle:function(e,t){var a,i,n=t||500;return function(){var t=this,r=arguments,o=+new Date;a&&o-a<n?(clearTimeout(i),i=setTimeout((function(){a=o,e.apply(t,r)}),n)):(a=o,e.apply(this,r))}},mySort:function(e,t,a){var i;if(0===a){for(var n=1;n<e.length;n++)for(var r=n;r>0;r--)e[r][t]>e[r-1][t]&&(i=e[r],e[r]=e[r-1],e[r-1]=i);return e}if(1===a){for(var o=1;o<e.length;o++)for(var s=o;s>0;s--)e[s][t]<e[s-1][t]&&(i=e[s],e[s]=e[s-1],e[s-1]=i);return e}},date_format:function(e){var t=Math.floor(e/1e3),a=Math.floor(t/3600),i=r(Math.floor((t-3600*a)/60)),n=r(t-3600*a-60*i);return a+":"+i+":"+n+" ";function r(e){return e<10?"0"+e:e}},getDistance:function(e,t,a,i){var n=d(e),r=d(a),o=n-r,s=d(t)-d(i),u=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(n)*Math.cos(r)*Math.pow(Math.sin(s/2),2)));return 6378137*u;function d(e){return e*Math.PI/180}},getnum:function(e){return Math.round(100*e)/100}};t.default=i},"396b":function(e,t,a){"use strict";var i=a("a092"),n=a.n(i);n.a},"62ee":function(e,t,a){"use strict";a.r(t);var i=a("bef9"),n=a("8af1");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("396b");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"cb523b22",null,!1,i["a"],void 0);t["default"]=s.exports},"73e6":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a434");i(a("dc68"));var n=i(a("1cf7")),r={data:function(){return{friends:[],uid:"",imgurl:"",token:""}},onLoad:function(){this.getStorages(),this.friendReq()},methods:{agree:function(e){var t=this;uni.request({url:this.serverUrl+"/friend/updatefriendstate",data:{uid:this.uid,fid:e,token:this.token},method:"POST",success:function(a){var i=a.data.status;a.data.result;if(200===i)for(var n=0;n<t.friends.length;n++)t.friends[n].id===e&&(t.friends.splice(n,1),uni.showToast({title:"添加成功",icon:"none",duration:1500}));else 500===i?uni.showToast({title:"服务器出错了...",icon:"none",duration:1500}):300===i&&uni.navigateTo({url:"/pages/signin/signin?name="+t.myname})}})},refuse:function(e){var t=this;uni.request({url:this.serverUrl+"/friend/deletefriend",data:{uid:this.uid,fid:e,token:this.token},method:"POST",success:function(a){var i=a.data.status;a.data.result;if(200===i)for(var n=0;n<t.friends.length;n++)t.friends[n].id===e&&(t.friends.splice(n,1),uni.showToast({title:"已拒绝",icon:"none",duration:1500}));else 500===i?uni.showToast({title:"服务器出错了...",icon:"none",duration:1500}):300===i&&uni.navigateTo({url:"/pages/signin/signin?name="+t.myname})}})},friendReq:function(){var e=this;uni.request({url:this.serverUrl+"/index/getfriend",data:{uid:this.uid,state:1,token:this.token},method:"POST",success:function(t){var a=t.data.status,i=t.data.result;if(200===a){for(var n=0;n<i.length;n++)i[n].imgurl=e.serverUrl+"/"+i[n].imgurl,e.getApplyMsg(i,n);e.friends=i}else 500===a?uni.showToast({title:"服务器出错了...",icon:"none",duration:1500}):300===a&&uni.navigateTo({url:"/pages/signin/signin?name="+e.myname})}})},getApplyMsg:function(e,t){var a=this;uni.request({url:this.serverUrl+"/index/getlastmsg",data:{uid:this.uid,fid:e[t].id,token:this.token},method:"POST",success:function(i){var n=i.data.status,r=i.data.result;if(200===n){var o=e[t];o.msg=r.message,e.splice(t,1,o)}else 500===n?uni.showToast({title:"服务器出错了...",icon:"none",duration:1500}):300===n&&uni.navigateTo({url:"/pages/signin/signin?name="+a.myname})}})},getStorages:function(){try{var e=uni.getStorageSync("user");e?(this.uid=e.id,this.token=e.token):uni.navigateTo({url:"../signin/signin"})}catch(t){}},backOnePage:function(){uni.navigateBack({delta:1})},changeTime:function(e){return n.default.dataTime(e)}}};t.default=r},"8af1":function(e,t,a){"use strict";a.r(t);var i=a("73e6"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a},a092:function(e,t,a){var i=a("a5c3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("0236dde8",i,!0,{sourceMap:!1,shadowMode:!1})},a5c3:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 公共样式 */.contents[data-v-cb523b22]{padding-top:0}\r\n/* 顶部 */.top-bar[data-v-cb523b22]{z-index:100;width:92%;height:%?88?%;position:fixed;top:0;left:0;background:hsla(0,0%,100%,.96);border-bottom:%?1?% solid rgba(39,20,50,.1);padding-left:%?32?%;padding-right:%?32?%;padding-top:0;box-shadow:%?1?% %?1?% %?20?% %?2?% rgba(117,112,117,.2)}.top-bar .top-bar-left[data-v-cb523b22]{float:left}.top-bar .top-bar-left uni-image[data-v-cb523b22]{width:%?68?%;height:%?68?%;margin-top:%?10?%;border-radius:%?16?%}.top-bar .top-bar-center[data-v-cb523b22]{float:left}.top-bar .top-bar-center .logo[data-v-cb523b22]{display:inline-block;padding-top:%?18?%;font-size:%?24?%;color:#ffe431}.top-bar .top-bar-center .title[data-v-cb523b22]{line-height:%?88?%}.top-bar .top-bar-right[data-v-cb523b22]{float:right;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3);border-radius:%?40?%}.top-bar .top-bar-right .search[data-v-cb523b22]{display:inline-block;width:%?70?%;height:%?78?%;padding-left:%?12?%}.top-bar .top-bar-right .add[data-v-cb523b22]{width:%?78?%;height:%?78?%;display:inline-block}.top-bar .top-bar-right i[data-v-cb523b22]{width:%?52?%;height:%?52?%;display:inline-block;font-size:%?19?%;padding:%?24?% %?5?% %?5?% %?15?%}\r\n/* 底部 */.bottom[data-v-cb523b22]{position:fixed;bottom:%?20?%;width:100%;height:%?104?%;box-sizing:border-box;padding:%?12?% %?32?%;padding-bottom:env(safe-area-inset-bottom)}.bottom .bottom-btn[data-v-cb523b22]{height:%?80?%;margin:0 auto;background:#ffe431;border-radius:%?20?%;text-align:center;line-height:%?80?%;font-size:%?32?%;color:#272832}.btn1[data-v-cb523b22]{height:%?80?%;border-radius:%?20?%;text-align:center;line-height:%?80?%;font-size:%?32?%;color:#272832}\r\n/* 顶部 */.top-bar[data-v-cb523b22]{background:hsla(0,0%,100%,.95)}.top-bar .top-bar-left[data-v-cb523b22]{width:%?88?%;height:100%}.top-bar .top-bar-left i[data-v-cb523b22]{display:inline-block;margin-top:%?25?%}\r\n/* main */.main[data-v-cb523b22]{padding:%?108?% %?32?%}.main .requester[data-v-cb523b22]{background:#fff;box-shadow:%?0?% %?24?% %?64?% %?-8?% rgba(0,0,0,.1);border-radius:%?20?%;margin-top:%?112?%;padding:%?32?%}.main .requester .request-top[data-v-cb523b22]{display:flex;flex-direction:row}.main .requester .request-top .btn[data-v-cb523b22]{flex:auto;width:%?100?%;height:%?64?%;border-radius:%?40?%;text-align:center;line-height:%?64?%;font-size:%?32?%;font-weight:400;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3)}.main .requester .request-top .reject[data-v-cb523b22]{color:#ff5d5b;background:rgba(255,93,91,.1)}.main .requester .request-top .agree[data-v-cb523b22]{background:#ffe431}.main .requester .request-top .head-img[data-v-cb523b22]{margin-top:%?-102?%;flex:auto;text-align:center}.main .requester .request-top .head-img uni-image[data-v-cb523b22]{width:%?144?%;height:%?144?%;border-radius:50%;box-shadow:%?8?% %?10?% %?25?% %?-5?% rgba(117,112,117,.3)}.main .requester .request-center[data-v-cb523b22]{text-align:center;padding-top:%?20?%;padding-bottom:%?40?%}.main .requester .request-center .title[data-v-cb523b22]{font-size:%?36?%;font-weight:500;color:#272832;line-height:%?50?%}.main .requester .request-center .time[data-v-cb523b22]{font-size:%?24?%;color:rgba(39,40,50,.6);line-height:%?34?%}.main .requester .notic[data-v-cb523b22]{padding:%?20?% %?32?%;background-color:#f3f4f6;border-radius:%?20?%;font-size:%?28?%;color:rgba(39,40,50,.6);line-height:%?40?%}',""]),e.exports=t},bef9:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"contents"},[a("v-uni-view",{staticClass:"top-bar"},[a("v-uni-view",{staticClass:"top-bar-left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.backOnePage.apply(void 0,arguments)}}},[a("i",{staticClass:"iconfont icon-xiazai6"})]),a("v-uni-view",{staticClass:"top-bar-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.backOnePage.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"title"},[e._v("申请列表")])],1)],1),a("v-uni-view",{staticClass:"main"},e._l(e.friends,(function(t,i){return a("v-uni-view",{key:t.id,staticClass:"requester animate__animated animate__flipInX animate__faster"},[a("v-uni-view",{staticClass:"request-top"},[a("v-uni-view",{staticClass:"reject btn",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.refuse(t.id)}}},[e._v("拒绝")]),a("v-uni-view",{staticClass:"head-img"},[a("v-uni-image",{attrs:{src:t.imgurl,mode:""}})],1),a("v-uni-view",{staticClass:"agree btn",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.agree(t.id)}}},[e._v("同意")])],1),a("v-uni-view",{staticClass:"request-center"},[a("v-uni-view",{staticClass:"title"},[e._v(e._s(t.name))]),a("v-uni-view",{staticClass:"time"},[e._v(e._s(e.changeTime(t.lastTime)))])],1),a("v-uni-view",{staticClass:"notic"},[a("v-uni-text",[e._v("留言：")]),e._v(e._s(t.msg))],1)],1)})),1)],1)},n=[]},dc68:function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={Friends:function(){return[{id:1,imgurl:"avatar1.jpg",tip:2,name:"西西",email:"1123@qq.com",time:new Date,news:"我是消息我是消息我是消息我是消息我是消息我是消息我是消息我是消息"},{id:2,imgurl:"avatar2.jpg",tip:2,name:"哈哈",email:"1123@qq.com",time:new Date,news:"我是消息我是我是消息我是消息我是消是消息"},{id:3,imgurl:"avatar3.jpg",tip:222,name:"张三",email:"1123@qq.com",time:new Date,news:"我是消息我是消息我是消息我是消息"},{id:4,imgurl:"avatar4.jpg",tip:0,name:"李四",email:"1123@qq.com",time:new Date,news:"我是消息我是消息我是消息我是消息息我是消息"},{id:5,imgurl:"avatar5.jpg",tip:0,name:"二号",email:"1123@qq.com",time:new Date,news:"我是消息我是消消息我是消息我是消息我是消息"},{id:6,imgurl:"avatar6.jpg",tip:0,name:"哥哥",email:"1123@qq.com",time:new Date,news:"我是消息我"},{id:7,imgurl:"avatar6.jpg",tip:0,name:"哥哥",email:"1123@qq.com",time:new Date,news:"我是消息我"},{id:8,imgurl:"avatar6.jpg",tip:0,name:"哥哥",email:"1123@qq.com",time:new Date,news:"我是消息我"},{id:9,imgurl:"avatar6.jpg",tip:0,name:"哥哥",email:"1123@qq.com",time:new Date,news:"我是消息我"},{id:10,imgurl:"avatar6.jpg",tip:0,name:"哥哥",email:"1123@qq.com",time:new Date,news:"我是消息我"},{id:11,imgurl:"avatar6.jpg",tip:0,name:"哥哥",email:"1123@qq.com",time:new Date,news:"我是消息我"}]},isFriend:function(){return[{userid:1,friend:1},{userid:1,friend:5},{userid:1,friend:6},{userid:1,friend:8},{userid:1,friend:5}]},Message:function(){return[{id:"a",type:2,imgurl:"avatar5.jpg",tip:21,name:"西西",email:"1123@qq.com",time:new Date,message:{voice:"a",time:10}},{id:"a",type:2,imgurl:"avatar5.jpg",tip:20,name:"西西",email:"1123@qq.com",time:new Date,message:{voice:"a",time:10}},{id:"a",type:2,imgurl:"avatar5.jpg",tip:19,name:"西西",email:"1123@qq.com",time:new Date,message:{voice:"a",time:10}},{id:"a",type:2,imgurl:"avatar5.jpg",tip:18,name:"西西",email:"1123@qq.com",time:new Date,message:{voice:"a",time:10}},{id:"b",type:2,imgurl:"avatar2.jpg",tip:17,name:"西西",email:"1123@qq.com",time:new Date,message:{voice:"a",time:20}},{id:"b",type:3,imgurl:"avatar3.jpg",tip:16,name:"西西",email:"1123@qq.com",time:new Date,message:{name:"锡广场",address:"西街",latitude:"39.901951",longitude:"116.406403"}},{id:"a",type:3,imgurl:"avatar1.jpg",tip:15,name:"西西",email:"1123@qq.com",time:new Date,message:{name:"广场",address:"西街大概多少过武术规土委阁微观讽德诵功大",latitude:"39.901951",longitude:"116.406403"}},{id:"a",type:1,imgurl:"avatar1.jpg",tip:14,name:"西西",email:"1123@qq.com",time:new Date,message:"我是消息我是消息我是消息我是消息我是消息我是消息我是消息我是消息"},{id:"a",type:1,imgurl:"avatar1.jpg",tip:13,name:"西西",email:"1123@qq.com",time:new Date,message:"我是消息我是消息我是消息我是消息我是消息我是消息我是消息我是消息"},{id:"a",type:1,imgurl:"avatar1.jpg",tip:12,name:"西西",email:"1123@qq.com",time:new Date,message:"我是消息我是消息我是消息我是消息我是消息我是消息我是消息我是消息"},{id:"a",type:1,imgurl:"avatar1.jpg",tip:11,name:"西西",email:"1123@qq.com",time:new Date,message:"我是消息我是消息我是消息我是消息我是消息我是消息我是消息我是消息"},{id:"a",type:1,imgurl:"avatar2.jpg",tip:1,name:"哈哈",email:"1123@qq.com",time:new Date-16e3,message:"我是消息我是我是消息我是消息我是消是消息"},{id:"a",type:1,imgurl:"avatar3.jpg",tip:2,name:"张三",email:"1123@qq.com",time:new Date-6e4,message:"我是消息我是消息我是消息我是消息"},{id:"b",type:0,imgurl:"avatar4.jpg",tip:3,name:"李四",email:"1123@qq.com",time:new Date-36e5,message:"我是消息我是消息我是消息我是消息息我是消息"},{id:"a",type:1,imgurl:"avatar5.jpg",tip:4,name:"二号",email:"1123@qq.com",time:new Date-864e5,message:"我是消息我是消消息我是消息我是消息我是消息"},{id:"b",type:0,imgurl:"avatar6.jpg",tip:5,name:"哥哥",email:"1123@qq.com",time:new Date-144e4,message:"我是消息我1"},{id:"b",type:0,imgurl:"avatar6.jpg",tip:6,name:"哥哥",email:"1123@qq.com",time:new Date-864e5,message:"我是消息我2"},{id:"b",type:0,imgurl:"avatar6.jpg",tip:7,name:"哥哥",email:"1123@qq.com",time:new Date-864e5,message:"我是消息我3"},{id:"b",type:1,imgurl:"avatar6.jpg",tip:8,name:"哥哥",email:"1123@qq.com",time:new Date-864e5,message:"我是消息我4"},{id:"b",type:0,imgurl:"avatar6.jpg",tip:9,name:"哥哥",email:"1123@qq.com",time:new Date-144e4,message:"我是消息我5"},{id:"a",type:1,imgurl:"avatar6.jpg",tip:10,name:"哥哥",email:"1123@qq.com",time:new Date-864e5,message:"我是消息我6"}]}};t.default=i}}]);